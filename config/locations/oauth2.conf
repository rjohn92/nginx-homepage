# # ----- auth endpoint (no body) -----
# location = /oauth2/auth {
#     internal;
#     proxy_pass $oauth2_upstream;     # keep ONLY this one
#     proxy_pass_request_body off;
#     proxy_set_header Content-Length "";
#     proxy_set_header X-Original-URI $request_uri;
#     proxy_set_header X-Real-IP $remote_addr;
#     proxy_set_header X-Scheme $scheme;
#     proxy_set_header X-Original-Method $request_method;
# }

# # ----- oauth2 proxy UI/callbacks -----
# location /oauth2/ {
#     proxy_pass $oauth2_upstream;     # keep ONLY this one
#     proxy_set_header Host $host;
#     proxy_set_header X-Real-IP $remote_addr;
#     proxy_set_header X-Scheme $scheme;
# }